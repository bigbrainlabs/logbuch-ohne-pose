<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Board - Detaillierte Verdrahtung</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #2ecc71;
            margin-bottom: 10px;
            font-size: 36px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 18px;
        }
        .warning-box {
            background: #ff6b6b;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-weight: bold;
            text-align: center;
            font-size: 16px;
        }
        .info-box {
            background: #3498db;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 15px;
            line-height: 1.8;
        }
        .parts-list {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .parts-list h2 {
            color: #2ecc71;
            margin-bottom: 15px;
            font-size: 24px;
        }
        .parts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .part-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #2ecc71;
        }
        .part-item strong {
            color: #2ecc71;
        }
        .diagram-container {
            background: #2c3e50;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
        }
        .step-container {
            margin: 40px 0;
        }
        .step {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 6px solid #2ecc71;
        }
        .step h3 {
            color: #2ecc71;
            font-size: 24px;
            margin-bottom: 15px;
        }
        .step-number {
            background: #2ecc71;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            margin-right: 15px;
        }
        .wire-info {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .wire-info strong {
            color: #856404;
        }
        .connection-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        .connection-table th {
            background: #2ecc71;
            color: white;
            padding: 15px;
            text-align: left;
            font-size: 14px;
        }
        .connection-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        .connection-table tr:last-child td {
            border-bottom: none;
        }
        .connection-table tr:hover {
            background: #f8f9fa;
        }
        .color-red { color: #e74c3c; font-weight: bold; }
        .color-black { color: #2c3e50; font-weight: bold; }
        .color-blue { color: #3498db; font-weight: bold; }
        .color-green { color: #2ecc71; font-weight: bold; }
        .color-purple { color: #9b59b6; font-weight: bold; }
        .color-pink { color: #e91e63; font-weight: bold; }
        .color-yellow { color: #f39c12; font-weight: bold; }
        
        .tip-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .tip-box h4 {
            color: #155724;
            margin-bottom: 10px;
        }
        
        .i2c-box {
            background: #e8daef;
            border-left: 4px solid #9b59b6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .i2c-box h4 {
            color: #6c3483;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        svg {
            display: block;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
        }

        .pinout-section {
            background: #ecf0f1;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        .pinout-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 22px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß† MAIN BOARD - Detaillierte Verdrahtung</h1>
        <div class="subtitle">ESP32 + I2C Module mit kompletter Verkabelung</div>
        
        <div class="warning-box">
            ‚ö†Ô∏è WICHTIG: I2C Bus braucht gemeinsame Masseverbindung - alle GND zusammen! ‚ö†Ô∏è
        </div>

        <div class="info-box">
            <strong>üí° Main Board √úbersicht:</strong><br>
            Dieses Board ist das "Gehirn" deines Boot-Monitoring-Systems. Der ESP32 kommuniziert mit allen Sensoren √ºber den I2C Bus. Wichtig: Alle Module teilen sich 2 Leitungen (SDA + SCL) - das ist die Magie von I2C! Die Adressen unterscheiden die Ger√§te: ADS#1 (0x48), ADS#2 (0x49), MPU6050 (0x68).
        </div>

        <!-- Parts List -->
        <div class="parts-list">
            <h2>üì¶ Ben√∂tigte Bauteile</h2>
            <div class="parts-grid">
                <div class="part-item">
                    <strong>Platine:</strong><br>
                    1x Lochrasterplatine 50x46mm
                </div>
                <div class="part-item">
                    <strong>Mikrocontroller:</strong><br>
                    1x ESP32 WROOM-32 DevKit (38 Pin)
                </div>
                <div class="part-item">
                    <strong>ADC Module:</strong><br>
                    2x ADS1115 Breakout Board (16-bit)
                </div>
                <div class="part-item">
                    <strong>IMU Sensor:</strong><br>
                    1x GY-521 (MPU6050) Breakout
                </div>
                <div class="part-item">
                    <strong>Kondensatoren:</strong><br>
                    4x 100nF Keramik (je 1x pro Modul + ESP32)
                </div>
                <div class="part-item">
                    <strong>Stiftleisten:</strong><br>
                    Buchsenleisten f√ºr Module<br>
                    2x Stiftleiste 2x4 (Eing√§nge)
                </div>
                <div class="part-item">
                    <strong>Draht:</strong><br>
                    0,4-0,6mm Schaltdraht<br>
                    <span class="color-green">Gr√ºn = 3.3V</span><br>
                    <span class="color-black">Schwarz = GND</span><br>
                    <span class="color-purple">Lila = SDA</span><br>
                    <span class="color-pink">Rosa/Pink = SCL</span>
                </div>
            </div>
        </div>

        <!-- ESP32 Pinout Reference -->
        <div class="pinout-section">
            <h3>üìå ESP32 Pin-Referenz (WROOM-32 DevKit)</h3>
            <table class="connection-table">
                <tr>
                    <th>Pin</th>
                    <th>Funktion</th>
                    <th>Verwendung in diesem Projekt</th>
                </tr>
                <tr>
                    <td><strong>3V3</strong></td>
                    <td>3,3V Ausgang</td>
                    <td class="color-green">‚Üí Versorgung aller Module</td>
                </tr>
                <tr>
                    <td><strong>GND</strong></td>
                    <td>Masse</td>
                    <td class="color-black">‚Üí Gemeinsamer GND f√ºr alle Module</td>
                </tr>
                <tr>
                    <td><strong>GPIO21</strong></td>
                    <td>I2C SDA (Standard)</td>
                    <td class="color-purple">‚Üí Datenleitung zu allen I2C-Ger√§ten</td>
                </tr>
                <tr>
                    <td><strong>GPIO22</strong></td>
                    <td>I2C SCL (Standard)</td>
                    <td class="color-pink">‚Üí Taktleitung zu allen I2C-Ger√§ten</td>
                </tr>
                <tr>
                    <td><strong>GPIO4</strong></td>
                    <td>Digital Input</td>
                    <td class="color-yellow">‚Üí Flow Sensor Signal (Interrupt)</td>
                </tr>
                <tr>
                    <td><strong>EN</strong></td>
                    <td>Enable (Reset)</td>
                    <td>Nicht verbinden (Pull-up on board)</td>
                </tr>
                <tr>
                    <td><strong>VIN</strong></td>
                    <td>5V Eingang</td>
                    <td>Nicht benutzt (wir nutzen 3V3 Pin)</td>
                </tr>
            </table>
            
            <div class="wire-info">
                <strong>Wichtig:</strong> Der ESP32 DevKit hat mehrere GND Pins - du kannst jeden davon nutzen. Die 3V3 Pins sind alle verbunden (auch mehrere nutzbar). GPIO21/22 sind die Standard-I2C-Pins - nicht √§ndern!
            </div>
        </div>

        <!-- I2C Addresses -->
        <div class="i2c-box">
            <h4>üì° I2C Adressen - So unterscheiden sich die Module</h4>
            <table class="connection-table" style="margin-top: 15px;">
                <tr>
                    <th>Modul</th>
                    <th>I2C Adresse</th>
                    <th>ADDR Pin Einstellung</th>
                </tr>
                <tr>
                    <td><strong>ADS1115 #1</strong></td>
                    <td><code>0x48</code></td>
                    <td>ADDR Pin ‚Üí GND (oder offen lassen)</td>
                </tr>
                <tr>
                    <td><strong>ADS1115 #2</strong></td>
                    <td><code>0x49</code></td>
                    <td>ADDR Pin ‚Üí VDD (+3.3V)</td>
                </tr>
                <tr>
                    <td><strong>MPU6050 (GY-521)</strong></td>
                    <td><code>0x68</code></td>
                    <td>AD0 Pin ‚Üí GND (Standard auf GY-521)</td>
                </tr>
            </table>
            
            <div class="wire-info" style="margin-top: 15px; background: #fce4ec; border-left-color: #e91e63;">
                <strong>Kritisch f√ºr ADS1115:</strong><br>
                ‚Ä¢ <strong>ADS#1:</strong> ADDR Pin entweder auf GND l√∂ten ODER offen lassen (hat internen Pull-down)<br>
                ‚Ä¢ <strong>ADS#2:</strong> ADDR Pin mit d√ºnnem Draht an VDD (3.3V) verbinden<br>
                ‚Ä¢ <strong>Test:</strong> Mit I2C-Scanner Code pr√ºfen ob beide Adressen erkannt werden!
            </div>
        </div>

        <!-- Main Wiring Diagram -->
        <div class="diagram-container">
            <svg width="1400" height="1000" viewBox="0 0 1400 1000">
                <!-- Title -->
                <text x="700" y="40" fill="white" font-size="28" text-anchor="middle" font-weight="bold">
                    MAIN BOARD - Komplette Verdrahtung
                </text>
                
                <!-- Grid -->
                <defs>
                    <pattern id="grid2" width="20" height="20" patternUnits="userSpaceOnUse">
                        <circle cx="10" cy="10" r="1" fill="#555" opacity="0.3"/>
                    </pattern>
                </defs>
                <rect x="50" y="70" width="1300" height="900" fill="#2c3e50" stroke="#ffd700" stroke-width="3" rx="10"/>
                <rect x="50" y="70" width="1300" height="900" fill="url(#grid2)"/>
                
                <!-- Power Input -->
                <g id="power-in">
                    <rect x="100" y="120" width="140" height="80" fill="#444" stroke="#2ecc71" stroke-width="4" rx="8"/>
                    <text x="170" y="110" fill="#2ecc71" font-size="16" text-anchor="middle" font-weight="bold">POWER INPUT</text>
                    <text x="170" y="150" fill="white" font-size="14" text-anchor="middle">FROM POWER BOARD</text>
                    
                    <circle cx="130" cy="170" r="8" fill="#2ecc71"/>
                    <text x="110" y="175" fill="white" font-size="12" text-anchor="end">‚ë†</text>
                    <text x="130" y="155" fill="#2ecc71" font-size="12" text-anchor="middle" font-weight="bold">+3.3V</text>
                    
                    <circle cx="210" cy="170" r="8" fill="#3498db"/>
                    <text x="240" y="175" fill="white" font-size="12">‚ë°</text>
                    <text x="210" y="155" fill="#3498db" font-size="12" text-anchor="middle" font-weight="bold">GND</text>
                </g>
                
                <!-- Power Buses -->
                <line x1="130" y1="170" x2="1250" y2="170" stroke="#2ecc71" stroke-width="8"/>
                <text x="700" y="155" fill="#2ecc71" font-size="16" text-anchor="middle" font-weight="bold">+3.3V BUS</text>
                
                <line x1="210" y1="850" x2="1250" y2="850" stroke="#3498db" stroke-width="8"/>
                <text x="700" y="870" fill="#3498db" font-size="16" text-anchor="middle" font-weight="bold">GND BUS</text>
                
                <!-- ESP32 Module -->
                <g id="esp32">
                    <rect x="550" y="250" width="280" height="180" fill="#1a1a1a" stroke="#ffd700" stroke-width="5" rx="10"/>
                    <text x="690" y="290" fill="white" font-size="24" text-anchor="middle" font-weight="bold">ESP32 WROOM-32</text>
                    <text x="690" y="315" fill="#00bfff" font-size="16" text-anchor="middle">DevKit Board</text>
                    
                    <!-- Power pins -->
                    <circle cx="570" cy="280" r="8" fill="#2ecc71"/>
                    <text x="550" y="285" fill="white" font-size="11" text-anchor="end">‚ë¢</text>
                    <text x="570" y="265" fill="#2ecc71" font-size="11" text-anchor="middle" font-weight="bold">3V3</text>
                    
                    <circle cx="570" cy="410" r="8" fill="#3498db"/>
                    <text x="550" y="415" fill="white" font-size="11" text-anchor="end">‚ë£</text>
                    <text x="570" y="430" fill="#3498db" font-size="11" text-anchor="middle" font-weight="bold">GND</text>
                    
                    <!-- I2C pins -->
                    <circle cx="810" cy="310" r="8" fill="#9b59b6"/>
                    <text x="835" y="315" fill="white" font-size="11">‚ë§</text>
                    <text x="810" y="295" fill="#9b59b6" font-size="11" text-anchor="middle" font-weight="bold">GPIO21</text>
                    <text x="810" y="330" fill="#e8daef" font-size="10" text-anchor="middle">(SDA)</text>
                    
                    <circle cx="810" cy="360" r="8" fill="#e91e63"/>
                    <text x="835" y="365" fill="white" font-size="11">‚ë•</text>
                    <text x="810" y="345" fill="#e91e63" font-size="11" text-anchor="middle" font-weight="bold">GPIO22</text>
                    <text x="810" y="380" fill="#fce4ec" font-size="10" text-anchor="middle">(SCL)</text>
                    
                    <!-- Flow sensor pin -->
                    <circle cx="810" cy="400" r="8" fill="#f39c12"/>
                    <text x="835" y="405" fill="white" font-size="11">‚ë¶</text>
                    <text x="810" y="420" fill="#f39c12" font-size="11" text-anchor="middle" font-weight="bold">GPIO4</text>
                    
                    <!-- Decoupling cap -->
                    <rect x="680" y="345" width="20" height="12" fill="#d2691e" stroke="#ffd700" stroke-width="2"/>
                    <text x="690" y="335" fill="white" font-size="10" text-anchor="middle">C1</text>
                    <text x="690" y="325" fill="#ffd700" font-size="9" text-anchor="middle">100nF</text>
                </g>
                
                <!-- Power connections ESP32 -->
                <line x1="570" y1="170" x2="570" y2="272" stroke="#2ecc71" stroke-width="3"/>
                <line x1="570" y1="418" x2="570" y2="500" stroke="#3498db" stroke-width="3"/>
                <line x1="570" y1="500" x2="570" y2="850" stroke="#3498db" stroke-width="3" stroke-dasharray="5,5"/>
                
                <!-- Cap connection -->
                <line x1="690" y1="170" x2="690" y2="345" stroke="#2ecc71" stroke-width="2"/>
                <line x1="690" y1="357" x2="690" y2="450" stroke="#3498db" stroke-width="2"/>
                <line x1="690" y1="450" x2="570" y2="450" stroke="#3498db" stroke-width="2"/>
                
                <!-- I2C Bus Lines (main trunk) -->
                <line x1="810" y1="310" x2="950" y2="310" stroke="#9b59b6" stroke-width="6"/>
                <line x1="950" y1="310" x2="950" y2="700" stroke="#9b59b6" stroke-width="6"/>
                <text x="890" y="300" fill="#9b59b6" font-size="14" text-anchor="middle" font-weight="bold">SDA BUS</text>
                
                <line x1="810" y1="360" x2="980" y2="360" stroke="#e91e63" stroke-width="6"/>
                <line x1="980" y1="360" x2="980" y2="700" stroke="#e91e63" stroke-width="6"/>
                <text x="920" y="350" fill="#e91e63" font-size="14" text-anchor="middle" font-weight="bold">SCL BUS</text>
                
                <!-- ADS1115 #1 -->
                <g id="ads1">
                    <rect x="250" y="550" width="180" height="120" fill="#8b008b" stroke="#ffd700" stroke-width="4" rx="8"/>
                    <text x="340" y="585" fill="white" font-size="20" text-anchor="middle" font-weight="bold">ADS1115 #1</text>
                    <text x="340" y="605" fill="#ffd700" font-size="13" text-anchor="middle">Addr: 0x48</text>
                    <text x="340" y="625" fill="white" font-size="11" text-anchor="middle">Batt1, Batt2</text>
                    <text x="340" y="640" fill="white" font-size="11" text-anchor="middle">Tank, Temp</text>
                    
                    <!-- Pins -->
                    <circle cx="270" cy="570" r="7" fill="#2ecc71"/>
                    <text x="250" y="575" fill="white" font-size="10" text-anchor="end">‚ëß</text>
                    <text x="270" y="555" fill="#2ecc71" font-size="10" text-anchor="middle" font-weight="bold">VDD</text>
                    
                    <circle cx="270" cy="650" r="7" fill="#3498db"/>
                    <text x="250" y="655" fill="white" font-size="10" text-anchor="end">‚ë®</text>
                    <text x="270" y="670" fill="#3498db" font-size="10" text-anchor="middle" font-weight="bold">GND</text>
                    
                    <circle cx="410" cy="590" r="7" fill="#9b59b6"/>
                    <text x="435" y="595" fill="white" font-size="10">‚ë©</text>
                    <text x="410" y="575" fill="#9b59b6" font-size="10" text-anchor="middle" font-weight="bold">SDA</text>
                    
                    <circle cx="410" cy="620" r="7" fill="#e91e63"/>
                    <text x="435" y="625" fill="white" font-size="10">‚ë™</text>
                    <text x="410" y="605" fill="#e91e63" font-size="10" text-anchor="middle" font-weight="bold">SCL</text>
                    
                    <circle cx="340" cy="660" r="7" fill="#555"/>
                    <text x="320" y="665" fill="white" font-size="10" text-anchor="end">‚ë´</text>
                    <text x="340" y="680" fill="#aaa" font-size="10" text-anchor="middle" font-weight="bold">ADDR</text>
                    <text x="340" y="695" fill="#aaa" font-size="9" text-anchor="middle">‚Üí GND</text>
                    
                    <!-- Decoupling cap -->
                    <rect x="330" y="545" width="20" height="12" fill="#d2691e" stroke="#ffd700" stroke-width="2"/>
                    <text x="340" y="535" fill="white" font-size="10" text-anchor="middle">C2</text>
                    <text x="340" y="525" fill="#ffd700" font-size="9" text-anchor="middle">100nF</text>
                </g>
                
                <!-- ADS1115 #1 Connections -->
                <line x1="270" y1="170" x2="270" y2="563" stroke="#2ecc71" stroke-width="2"/>
                <line x1="340" y1="170" x2="340" y2="545" stroke="#2ecc71" stroke-width="2"/>
                <line x1="270" y1="657" x2="270" y2="780" stroke="#3498db" stroke-width="2"/>
                <line x1="270" y1="780" x2="270" y2="850" stroke="#3498db" stroke-width="2" stroke-dasharray="5,5"/>
                <line x1="340" y1="557" x2="340" y2="580" stroke="#3498db" stroke-width="2"/>
                <line x1="340" y1="580" x2="270" y2="580" stroke="#3498db" stroke-width="2"/>
                <line x1="340" y1="660" x2="340" y2="700" stroke="#3498db" stroke-width="2"/>
                <line x1="340" y1="700" x2="270" y2="700" stroke="#3498db" stroke-width="2"/>
                <line x1="270" y1="700" x2="270" y2="780" stroke="#3498db" stroke-width="2"/>
                
                <!-- I2C to ADS#1 -->
                <line x1="410" y1="590" x2="480" y2="590" stroke="#9b59b6" stroke-width="3"/>
                <line x1="480" y1="590" x2="480" y2="480" stroke="#9b59b6" stroke-width="3"/>
                <line x1="480" y1="480" x2="950" y2="480" stroke="#9b59b6" stroke-width="3"/>
                <circle cx="950" cy="480" r="4" fill="#9b59b6"/>
                
                <line x1="410" y1="620" x2="490" y2="620" stroke="#e91e63" stroke-width="3"/>
                <line x1="490" y1="620" x2="490" y2="490" stroke="#e91e63" stroke-width="3"/>
                <line x1="490" y1="490" x2="980" y2="490" stroke="#e91e63" stroke-width="3"/>
                <circle cx="980" cy="490" r="4" fill="#e91e63"/>
                
                <!-- ADS1115 #2 -->
                <g id="ads2">
                    <rect x="1050" y="550" width="180" height="120" fill="#8b008b" stroke="#ffd700" stroke-width="4" rx="8"/>
                    <text x="1140" y="585" fill="white" font-size="20" text-anchor="middle" font-weight="bold">ADS1115 #2</text>
                    <text x="1140" y="605" fill="#ffd700" font-size="13" text-anchor="middle">Addr: 0x49</text>
                    <text x="1140" y="625" fill="white" font-size="11" text-anchor="middle">√ñldruck, RPM</text>
                    <text x="1140" y="640" fill="white" font-size="11" text-anchor="middle">Reserve</text>
                    
                    <!-- Pins -->
                    <circle cx="1070" cy="570" r="7" fill="#2ecc71"/>
                    <text x="1050" y="575" fill="white" font-size="10" text-anchor="end">‚ë¨</text>
                    <text x="1070" y="555" fill="#2ecc71" font-size="10" text-anchor="middle" font-weight="bold">VDD</text>
                    
                    <circle cx="1070" cy="650" r="7" fill="#3498db"/>
                    <text x="1050" y="655" fill="white" font-size="10" text-anchor="end">‚ë≠</text>
                    <text x="1070" y="670" fill="#3498db" font-size="10" text-anchor="middle" font-weight="bold">GND</text>
                    
                    <circle cx="1210" cy="590" r="7" fill="#9b59b6"/>
                    <text x="1235" y="595" fill="white" font-size="10">‚ëÆ</text>
                    <text x="1210" y="575" fill="#9b59b6" font-size="10" text-anchor="middle" font-weight="bold">SDA</text>
                    
                    <circle cx="1210" cy="620" r="7" fill="#e91e63"/>
                    <text x="1235" y="625" fill="white" font-size="10">‚ëØ</text>
                    <text x="1210" y="605" fill="#e91e63" font-size="10" text-anchor="middle" font-weight="bold">SCL</text>
                    
                    <circle cx="1140" cy="660" r="7" fill="#2ecc71"/>
                    <text x="1120" y="665" fill="white" font-size="10" text-anchor="end">‚ë∞</text>
                    <text x="1140" y="680" fill="#2ecc71" font-size="10" text-anchor="middle" font-weight="bold">ADDR</text>
                    <text x="1140" y="695" fill="#2ecc71" font-size="9" text-anchor="middle">‚Üí VDD</text>
                    
                    <!-- Decoupling cap -->
                    <rect x="1130" y="545" width="20" height="12" fill="#d2691e" stroke="#ffd700" stroke-width="2"/>
                    <text x="1140" y="535" fill="white" font-size="10" text-anchor="middle">C3</text>
                    <text x="1140" y="525" fill="#ffd700" font-size="9" text-anchor="middle">100nF</text>
                </g>
                
                <!-- ADS1115 #2 Connections -->
                <line x1="1070" y1="170" x2="1070" y2="563" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1140" y1="170" x2="1140" y2="545" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1070" y1="657" x2="1070" y2="780" stroke="#3498db" stroke-width="2"/>
                <line x1="1070" y1="780" x2="1070" y2="850" stroke="#3498db" stroke-width="2" stroke-dasharray="5,5"/>
                <line x1="1140" y1="557" x2="1140" y2="580" stroke="#3498db" stroke-width="2"/>
                <line x1="1140" y1="580" x2="1070" y2="580" stroke="#3498db" stroke-width="2"/>
                <line x1="1140" y1="660" x2="1140" y2="700" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1140" y1="700" x2="1070" y2="700" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1070" y1="700" x2="1070" y2="780" stroke="#2ecc71" stroke-width="2"/>
                
                <!-- I2C to ADS#2 -->
                <line x1="1210" y1="590" x2="1250" y2="590" stroke="#9b59b6" stroke-width="3"/>
                <line x1="1250" y1="590" x2="1250" y2="520" stroke="#9b59b6" stroke-width="3"/>
                <line x1="1250" y1="520" x2="950" y2="520" stroke="#9b59b6" stroke-width="3"/>
                <circle cx="950" cy="520" r="4" fill="#9b59b6"/>
                
                <line x1="1210" y1="620" x2="1260" y2="620" stroke="#e91e63" stroke-width="3"/>
                <line x1="1260" y1="620" x2="1260" y2="530" stroke="#e91e63" stroke-width="3"/>
                <line x1="1260" y1="530" x2="980" y2="530" stroke="#e91e63" stroke-width="3"/>
                <circle cx="980" cy="530" r="4" fill="#e91e63"/>
                
                <!-- MPU6050 -->
                <g id="mpu">
                    <rect x="1070" y="280" width="160" height="110" fill="#8b0000" stroke="#ffd700" stroke-width="4" rx="8"/>
                    <text x="1150" y="315" fill="white" font-size="20" text-anchor="middle" font-weight="bold">MPU6050</text>
                    <text x="1150" y="335" fill="#ffd700" font-size="13" text-anchor="middle">Addr: 0x68</text>
                    <text x="1150" y="355" fill="white" font-size="11" text-anchor="middle">Gyro + Accel</text>
                    
                    <!-- Pins -->
                    <circle cx="1090" cy="300" r="7" fill="#2ecc71"/>
                    <text x="1070" y="305" fill="white" font-size="10" text-anchor="end">‚ë±</text>
                    <text x="1090" y="285" fill="#2ecc71" font-size="10" text-anchor="middle" font-weight="bold">VCC</text>
                    
                    <circle cx="1090" cy="370" r="7" fill="#3498db"/>
                    <text x="1070" y="375" fill="white" font-size="10" text-anchor="end">‚ë≤</text>
                    <text x="1090" y="390" fill="#3498db" font-size="10" text-anchor="middle" font-weight="bold">GND</text>
                    
                    <circle cx="1210" cy="320" r="7" fill="#9b59b6"/>
                    <text x="1235" y="325" fill="white" font-size="10">‚ë≥</text>
                    <text x="1210" y="305" fill="#9b59b6" font-size="10" text-anchor="middle" font-weight="bold">SDA</text>
                    
                    <circle cx="1210" cy="350" r="7" fill="#e91e63"/>
                    <text x="1235" y="355" fill="white" font-size="10">„âë</text>
                    <text x="1210" y="335" fill="#e91e63" font-size="10" text-anchor="middle" font-weight="bold">SCL</text>
                    
                    <!-- Decoupling cap -->
                    <rect x="1140" y="355" width="20" height="12" fill="#d2691e" stroke="#ffd700" stroke-width="2"/>
                    <text x="1150" y="345" fill="white" font-size="10" text-anchor="middle">C4</text>
                    <text x="1150" y="335" fill="#ffd700" font-size="9" text-anchor="middle">100nF</text>
                </g>
                
                <!-- MPU6050 Connections -->
                <line x1="1090" y1="170" x2="1090" y2="293" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1150" y1="170" x2="1150" y2="355" stroke="#2ecc71" stroke-width="2"/>
                <line x1="1090" y1="377" x2="1090" y2="450" stroke="#3498db" stroke-width="2"/>
                <line x1="1090" y1="450" x2="1090" y2="850" stroke="#3498db" stroke-width="2" stroke-dasharray="5,5"/>
                <line x1="1150" y1="367" x2="1150" y2="420" stroke="#3498db" stroke-width="2"/>
                <line x1="1150" y1="420" x2="1090" y2="420" stroke="#3498db" stroke-width="2"/>
                
                <!-- I2C to MPU -->
                <line x1="1210" y1="320" x2="1270" y2="320" stroke="#9b59b6" stroke-width="3"/>
                <line x1="1270" y1="320" x2="1270" y2="560" stroke="#9b59b6" stroke-width="3"/>
                <line x1="1270" y1="560" x2="950" y2="560" stroke="#9b59b6" stroke-width="3"/>
                <circle cx="950" cy="560" r="4" fill="#9b59b6"/>
                
                <line x1="1210" y1="350" x2="1280" y2="350" stroke="#e91e63" stroke-width="3"/>
                <line x1="1280" y1="350" x2="1280" y2="570" stroke="#e91e63" stroke-width="3"/>
                <line x1="1280" y1="570" x2="980" y2="570" stroke="#e91e63" stroke-width="3"/>
                <circle cx="980" cy="570" r="4" fill="#e91e63"/>
                
                <!-- Sensor Input Connector -->
                <g id="sensor-input">
                    <rect x="100" y="730" width="200" height="90" fill="#444" stroke="#3498db" stroke-width="4" rx="8"/>
                    <text x="200" y="720" fill="#3498db" font-size="16" text-anchor="middle" font-weight="bold">FROM SENSOR BOARD</text>
                    <text x="200" y="760" fill="white" font-size="12" text-anchor="middle">A0, A1, A2, A3 ‚Üí ADS#1</text>
                    <text x="200" y="780" fill="white" font-size="12" text-anchor="middle">A4, A5 ‚Üí ADS#2</text>
                    <text x="200" y="800" fill="white" font-size="12" text-anchor="middle">Flow, +5V, GND</text>
                    <text x="115" y="770" fill="white" font-size="10">„âí</text>
                </g>
                
                <!-- Flow Sensor Detail -->
                <g id="flow-sensor">
                    <rect x="450" y="730" width="200" height="90" fill="#f39c12" stroke="#ffd700" stroke-width="4" rx="8"/>
                    <text x="550" y="720" fill="#f39c12" font-size="16" text-anchor="middle" font-weight="bold">FLOW SENSOR</text>
                    <text x="550" y="760" fill="white" font-size="12" text-anchor="middle">FM-HL3012</text>
                    <text x="550" y="780" fill="white" font-size="12" text-anchor="middle">Signal (gelb)</text>
                    <text x="550" y="800" fill="white" font-size="12" text-anchor="middle">‚Üí GPIO4</text>
                    
                    <circle cx="470" cy="770" r="7" fill="#f39c12"/>
                    <text x="450" y="775" fill="white" font-size="10" text-anchor="end">„âì</text>
                </g>
                
                <!-- Flow to ESP32 -->
                <line x1="470" y1="770" x2="400" y2="770" stroke="#f39c12" stroke-width="3"/>
                <line x1="400" y1="770" x2="400" y2="500" stroke="#f39c12" stroke-width="3"/>
                <line x1="400" y1="500" x2="810" y2="400" stroke="#f39c12" stroke-width="3" stroke-dasharray="4,4"/>
                
                <!-- Connection points markers on buses -->
                <circle cx="130" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="270" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="340" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="570" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="690" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="1070" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="1090" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="1140" cy="170" r="4" fill="#2ecc71"/>
                <circle cx="1150" cy="170" r="4" fill="#2ecc71"/>
                
                <circle cx="210" cy="850" r="4" fill="#3498db"/>
                <circle cx="270" cy="850" r="4" fill="#3498db"/>
                <circle cx="570" cy="850" r="4" fill="#3498db"/>
                <circle cx="1070" cy="850" r="4" fill="#3498db"/>
                <circle cx="1090" cy="850" r="4" fill="#3498db"/>
            </svg>
        </div>

        <!-- Step by Step Instructions -->
        <div class="step-container">
            <h2 style="color: #2ecc71; font-size: 28px; margin-bottom: 20px;">üîß Schritt-f√ºr-Schritt Aufbau</h2>
            
            <!-- Step 1 -->
            <div class="step">
                <h3><span class="step-number">1</span>Platine und Layout planen</h3>
                <p>Lochrasterplatine 50x46mm vorbereiten. Wichtig: Erst alle Module trocken auflegen (ohne L√∂ten!) und Position planen!</p>
                
                <div class="tip-box">
                    <h4>üí° Layout-Empfehlung:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                        <li><strong>ESP32:</strong> Mittig platzieren (Zentrum der Aktion)</li>
                        <li><strong>ADS#1:</strong> Links unten (f√ºr k√ºrzere Verbindungen zu Sensor-Eing√§ngen)</li>
                        <li><strong>ADS#2:</strong> Rechts unten</li>
                        <li><strong>MPU6050:</strong> Rechts oben (m√∂glichst am Rand f√ºr mechanische Stabilit√§t)</li>
                        <li><strong>Power Input:</strong> Links oben (Ecke)</li>
                    </ul>
                </div>
                
                <div class="wire-info">
                    <strong>Wichtig:</strong> Module sollten mit Buchsenleisten best√ºckt werden (nicht direkt aufl√∂ten!). So kannst du sie sp√§ter tauschen falls n√∂tig.
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step">
                <h3><span class="step-number">2</span>Power Input und Busse (ZUERST!)</h3>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>Position</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td><strong>‚ë†</strong> +3.3V Input</td>
                        <td>Stiftleiste links oben</td>
                        <td class="color-green">‚Üí Start des +3.3V BUS (horizontal, oben)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë°</strong> GND Input</td>
                        <td>Daneben</td>
                        <td class="color-blue">‚Üí Start des GND BUS (horizontal, unten)</td>
                    </tr>
                </table>
                
                <p style="margin-top: 20px;"><strong>Busse verlegen:</strong></p>
                <ul style="margin-left: 30px; margin-top: 10px; line-height: 2;">
                    <li><span class="color-green">+3.3V BUS:</span> Gr√ºner Draht (0,6mm) horizontal im oberen Viertel der Platine</li>
                    <li><span class="color-blue">GND BUS:</span> Schwarzer Draht (0,8mm) horizontal im unteren Viertel</li>
                    <li><span class="color-purple">SDA BUS:</span> Lila Draht (0,4mm) vertikal rechts vom ESP32</li>
                    <li><span class="color-pink">SCL BUS:</span> Rosa Draht (0,4mm) vertikal daneben</li>
                </ul>
                
                <div class="tip-box">
                    <h4>üí° I2C Bus Position:</h4>
                    Die SDA/SCL Busse m√ºssen von GPIO21/22 des ESP32 ausgehen und dann vertikal nach unten zu den Modulen f√ºhren. Platziere sie rechts vom ESP32 mit ca. 5-10mm Abstand.
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step">
                <h3><span class="step-number">3</span>ESP32 montieren und anschlie√üen</h3>
                <p>ESP32 DevKit auf Buchsenleisten setzen (damit er abnehmbar bleibt).</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>ESP32 Pin</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td><strong>‚ë¢</strong> 3V3 Pin</td>
                        <td>Einer der 3V3 Pins</td>
                        <td class="color-green">‚Üí An +3.3V BUS (dicker Draht!)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë£</strong> GND Pin</td>
                        <td>Einer der GND Pins</td>
                        <td class="color-blue">‚Üí An GND BUS (dicker Draht!)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë§</strong> GPIO21</td>
                        <td>Standard I2C SDA</td>
                        <td class="color-purple">‚Üí Start des SDA BUS (vertikal nach unten)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë•</strong> GPIO22</td>
                        <td>Standard I2C SCL</td>
                        <td class="color-pink">‚Üí Start des SCL BUS (vertikal nach unten)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë¶</strong> GPIO4</td>
                        <td>Digital Input</td>
                        <td class="color-yellow">‚Üí Zum Flow Sensor Signal (wird sp√§ter verbunden)</td>
                    </tr>
                </table>
                
                <p style="margin-top: 20px;"><strong>Entkopplungskondensator C1:</strong></p>
                <table class="connection-table">
                    <tr>
                        <th>Bauteil</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td>100nF Keramik</td>
                        <td>Zwischen 3V3 Pin und GND Pin, <strong>direkt am ESP32</strong> (max. 2cm Abstand)</td>
                    </tr>
                </table>
                
                <div class="wire-info">
                    <strong>Kritisch:</strong> Der ESP32 hat mehrere 3V3 und GND Pins - du kannst jeden davon nutzen. Aber nutze mindestens EINEN von jedem f√ºr die Power-Busse. Optimal: 2 GND Pins verbinden (einer vorne, einer hinten am Board).
                </div>
            </div>

            <!-- Step 4 -->
            <div class="step">
                <h3><span class="step-number">4</span>ADS1115 #1 (Links) - Adresse 0x48</h3>
                <p>Erstes ADC-Modul f√ºr Batterie 1+2, Tank, Temperatur.</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>ADS1115 Pin</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td><strong>‚ëß</strong> VDD</td>
                        <td>Power Input</td>
                        <td class="color-green">‚Üí An +3.3V BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë®</strong> GND</td>
                        <td>Ground</td>
                        <td class="color-blue">‚Üí An GND BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë©</strong> SDA</td>
                        <td>I2C Data</td>
                        <td class="color-purple">‚Üí An SDA BUS (vom ESP32 GPIO21)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë™</strong> SCL</td>
                        <td>I2C Clock</td>
                        <td class="color-pink">‚Üí An SCL BUS (vom ESP32 GPIO22)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë´</strong> ADDR</td>
                        <td>Adress Pin</td>
                        <td class="color-black">‚Üí An GND (f√ºr Adresse 0x48)</td>
                    </tr>
                </table>
                
                <p style="margin-top: 20px;"><strong>Entkopplungskondensator C2:</strong></p>
                <table class="connection-table">
                    <tr>
                        <th>Bauteil</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td>100nF Keramik</td>
                        <td>Zwischen VDD und GND, direkt am Modul</td>
                    </tr>
                </table>
                
                <div class="i2c-box">
                    <h4>üìç Adresse einstellen - WICHTIG!</h4>
                    <strong>F√ºr Adresse 0x48:</strong> ADDR Pin mit GND verbinden (kurzer Draht zum GND des Moduls).<br>
                    <strong>Alternative:</strong> ADDR Pin offen lassen (nicht verbinden) - hat internen Pull-down zu GND.<br><br>
                    <strong>Test:</strong> Nach dem L√∂ten mit I2C-Scanner pr√ºfen, dass 0x48 erkannt wird!
                </div>
            </div>

            <!-- Step 5 -->
            <div class="step">
                <h3><span class="step-number">5</span>ADS1115 #2 (Rechts) - Adresse 0x49</h3>
                <p>Zweites ADC-Modul f√ºr √ñldruck, RPM, Reserve.</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>ADS1115 Pin</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td><strong>‚ë¨</strong> VDD</td>
                        <td>Power Input</td>
                        <td class="color-green">‚Üí An +3.3V BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë≠</strong> GND</td>
                        <td>Ground</td>
                        <td class="color-blue">‚Üí An GND BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ëÆ</strong> SDA</td>
                        <td>I2C Data</td>
                        <td class="color-purple">‚Üí An SDA BUS (gemeinsam mit ADS#1 und MPU!)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ëØ</strong> SCL</td>
                        <td>I2C Clock</td>
                        <td class="color-pink">‚Üí An SCL BUS (gemeinsam mit ADS#1 und MPU!)</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë∞</strong> ADDR</td>
                        <td>Address Pin</td>
                        <td class="color-green">‚Üí An VDD (f√ºr Adresse 0x49!)</td>
                    </tr>
                </table>
                
                <p style="margin-top: 20px;"><strong>Entkopplungskondensator C3:</strong></p>
                <table class="connection-table">
                    <tr>
                        <th>Bauteil</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td>100nF Keramik</td>
                        <td>Zwischen VDD und GND, direkt am Modul</td>
                    </tr>
                </table>
                
                <div class="i2c-box">
                    <h4>üìç Adresse einstellen - KRITISCH!</h4>
                    <strong>F√ºr Adresse 0x49:</strong> ADDR Pin mit VDD verbinden (kurzer Draht zum +3.3V des Moduls).<br>
                    <strong>‚ö†Ô∏è Sehr wichtig:</strong> Wenn du ADDR nicht mit VDD verbindest, hat dieser ADS1115 die gleiche Adresse wie ADS#1 ‚Üí Konflikt!<br><br>
                    <strong>Test:</strong> I2C-Scanner muss beide Adressen zeigen: 0x48 UND 0x49!
                </div>
            </div>

            <!-- Step 6 -->
            <div class="step">
                <h3><span class="step-number">6</span>MPU6050 / GY-521 (Rechts oben)</h3>
                <p>6-Achsen IMU f√ºr Lage-Erkennung (Schlagseite, Neigung).</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>MPU6050 Pin</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td><strong>‚ë±</strong> VCC</td>
                        <td>Power Input (manchmal VDD)</td>
                        <td class="color-green">‚Üí An +3.3V BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë≤</strong> GND</td>
                        <td>Ground</td>
                        <td class="color-blue">‚Üí An GND BUS</td>
                    </tr>
                    <tr>
                        <td><strong>‚ë≥</strong> SDA</td>
                        <td>I2C Data</td>
                        <td class="color-purple">‚Üí An SDA BUS (gemeinsam mit beiden ADS!)</td>
                    </tr>
                    <tr>
                        <td><strong>„âë</strong> SCL</td>
                        <td>I2C Clock</td>
                        <td class="color-pink">‚Üí An SCL BUS (gemeinsam mit beiden ADS!)</td>
                    </tr>
                </table>
                
                <p style="margin-top: 20px;"><strong>Entkopplungskondensator C4:</strong></p>
                <table class="connection-table">
                    <tr>
                        <th>Bauteil</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td>100nF Keramik</td>
                        <td>Zwischen VCC und GND, direkt am Modul</td>
                    </tr>
                </table>
                
                <div class="i2c-box">
                    <h4>üìç MPU6050 Adresse</h4>
                    Standard-Adresse: <strong>0x68</strong><br>
                    Die meisten GY-521 Boards haben AD0 Pin bereits auf GND gezogen (Standard).<br>
                    <strong>Keine zus√§tzliche Verkabelung n√∂tig!</strong><br><br>
                    Alternative Adresse 0x69 m√∂glich wenn AD0 auf VCC - aber nicht n√∂tig in deinem Setup.
                </div>
                
                <div class="tip-box">
                    <h4>üí° Montage-Tipp:</h4>
                    Den MPU6050 m√∂glichst am Rand der Platine montieren und die Platine sp√§ter fest im Geh√§use verschrauben. Der MPU6050 ist empfindlich auf Vibrationen - je stabiler die Montage, desto besser die Messwerte!
                </div>
            </div>

            <!-- Step 7 -->
            <div class="step">
                <h3><span class="step-number">7</span>Sensor Board Eing√§nge</h3>
                <p>Stiftleiste 2x4 (8 Pin) f√ºr die Verbindung zum Sensor Board.</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>Signal</th>
                        <th>Verbindung</th>
                        <th>Wohin?</th>
                    </tr>
                    <tr>
                        <td rowspan="4"><strong>„âí</strong></td>
                        <td>A0 (Batterie 1)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #1, Pin A0</td>
                    </tr>
                    <tr>
                        <td>A1 (Batterie 2)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #1, Pin A1</td>
                    </tr>
                    <tr>
                        <td>A2 (Tank)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #1, Pin A2</td>
                    </tr>
                    <tr>
                        <td>A3 (Temperatur)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #1, Pin A3</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>A4 (√ñldruck)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #2, Pin A0</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>A5 (RPM)</td>
                        <td class="color-yellow">Analoges Signal</td>
                        <td>‚Üí ADS1115 #2, Pin A1</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>+5V</td>
                        <td class="color-red">Nicht benutzt</td>
                        <td>Wird auf Main Board nicht ben√∂tigt</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>GND</td>
                        <td class="color-blue">Masse-Referenz</td>
                        <td>‚Üí An GND BUS (wichtig f√ºr ADC!)</td>
                    </tr>
                </table>
                
                <div class="wire-info">
                    <strong>Wichtig:</strong> Die GND-Leitung vom Sensor Board MUSS mit dem GND BUS verbunden werden! Ohne gemeinsame Masse k√∂nnen die ADCs die Spannungen nicht korrekt messen. Die +5V Leitung kannst du weglassen (Main Board braucht nur 3.3V).
                </div>
            </div>

            <!-- Step 8 -->
            <div class="step">
                <h3><span class="step-number">8</span>Flow Sensor (FM-HL3012) Anschluss</h3>
                <p>Der Durchflusssensor sitzt in der Kraftstoffleitung und gibt Pulse aus.</p>
                
                <table class="connection-table">
                    <tr>
                        <th>Punkt</th>
                        <th>FM-HL3012 Draht</th>
                        <th>Farbe</th>
                        <th>Verbindung</th>
                    </tr>
                    <tr>
                        <td></td>
                        <td>Power (+)</td>
                        <td class="color-red">ROT</td>
                        <td>‚Üí +5V vom Sensor Board (nicht auf Main Board!)</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>Ground (-)</td>
                        <td class="color-black">SCHWARZ</td>
                        <td>‚Üí GND (√ºber Sensor Board oder direkt an GND BUS)</td>
                    </tr>
                    <tr>
                        <td><strong>„âì</strong></td>
                        <td>Signal</td>
                        <td class="color-yellow">GELB/WEISS</td>
                        <td>‚Üí ESP32 GPIO4</td>
                    </tr>
                </table>
                
                <div class="tip-box">
                    <h4>üí° Flow Sensor Details:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                        <li><strong>Versorgung:</strong> 5V vom Sensor Board (nicht 3.3V!)</li>
                        <li><strong>Signal-Level:</strong> 5V Pulse - ESP32 GPIO4 ist 5V-tolerant f√ºr Inputs ‚úì</li>
                        <li><strong>Im Code:</strong> Interrupt auf GPIO4 einrichten (RISING edge)</li>
                        <li><strong>Kalibrierung:</strong> ~450-500 Pulse pro Liter (herstellerabh√§ngig)</li>
                    </ul>
                </div>
                
                <div class="wire-info">
                    <strong>Montage-Tipp:</strong> Das Flow-Sensor-Kabel sollte geschirmt sein (3-adriges Kabel + Schirm). Schirm einseitig an GND. Der Sensor selbst sitzt direkt in der Kraftstoffleitung zwischen Tank und Motor - nicht auf der Platine!
                </div>
            </div>

            <!-- Step 9 - Testing -->
            <div class="step">
                <h3><span class="step-number">9</span>Test und I2C-Scanner</h3>
                <p><strong>‚ö†Ô∏è KRITISCH - Vor dem Betrieb testen! ‚ö†Ô∏è</strong></p>
                
                <ol style="margin-left: 30px; margin-top: 15px; line-height: 2;">
                    <li><strong>Visuell pr√ºfen:</strong>
                        <ul style="margin-left: 20px;">
                            <li>Alle L√∂tstellen sauber?</li>
                            <li>SDA/SCL an alle Module angeschlossen?</li>
                            <li>GND von allen Modulen am GND BUS?</li>
                            <li>Keine L√∂tbr√ºcken zwischen 3.3V und GND?</li>
                        </ul>
                    </li>
                    <li style="margin-top: 10px;"><strong>Durchgangspr√ºfung:</strong>
                        <ul style="margin-left: 20px;">
                            <li>+3.3V BUS gegen GND BUS ‚Üí OFFEN (‚àû Œ©)</li>
                            <li>SDA BUS gegen GND ‚Üí Pull-up Widerstand (~2-10 kŒ©)</li>
                            <li>SCL BUS gegen GND ‚Üí Pull-up Widerstand (~2-10 kŒ©)</li>
                        </ul>
                    </li>
                    <li style="margin-top: 10px;"><strong>Power Board anschlie√üen:</strong>
                        <ul style="margin-left: 20px;">
                            <li>+3.3V und GND vom Power Board verbinden</li>
                            <li>ESP32 LED sollte leuchten (Power-On)</li>
                        </ul>
                    </li>
                    <li style="margin-top: 10px;"><strong>I2C Scanner Code laden:</strong>
                        <pre style="background: #2c3e50; color: #2ecc71; padding: 15px; border-radius: 8px; margin: 10px 0; overflow-x: auto;">
#include &lt;Wire.h&gt;

void setup() {
  Serial.begin(115200);
  Wire.begin(21, 22); // SDA=21, SCL=22
  Serial.println("I2C Scanner");
}

void loop() {
  byte count = 0;
  for(byte i = 1; i < 127; i++) {
    Wire.beginTransmission(i);
    if(Wire.endTransmission() == 0) {
      Serial.print("Found: 0x");
      Serial.println(i, HEX);
      count++;
    }
  }
  Serial.println(count == 3 ? "‚úì All devices found!" : "‚ö† Check connections!");
  delay(5000);
}</pre>
                    </li>
                    <li style="margin-top: 10px;"><strong>Erwartete Ausgabe:</strong>
                        <pre style="background: #f8f9fa; color: #2c3e50; padding: 15px; border-radius: 8px; margin: 10px 0;">
Found: 0x48  ‚Üê ADS1115 #1
Found: 0x49  ‚Üê ADS1115 #2
Found: 0x68  ‚Üê MPU6050
‚úì All devices found!</pre>
                    </li>
                </ol>
                
                <div class="wire-info" style="margin-top: 20px; background: #ffe6e6; border-left-color: #e74c3c;">
                    <strong>Falls Ger√§te fehlen:</strong><br>
                    ‚Ä¢ <strong>Keine Ger√§te gefunden:</strong> SDA/SCL vertauscht? Pull-up Widerst√§nde fehlen? (sind aber auf Breakouts drauf)<br>
                    ‚Ä¢ <strong>0x48 fehlt:</strong> ADS#1 ADDR Pin pr√ºfen (muss auf GND)<br>
                    ‚Ä¢ <strong>0x49 fehlt:</strong> ADS#2 ADDR Pin pr√ºfen (muss auf VDD!)<br>
                    ‚Ä¢ <strong>Nur ein ADS gesehen:</strong> Beide ADS haben gleiche Adresse ‚Üí ADDR Pin von ADS#2 nicht korrekt<br>
                    ‚Ä¢ <strong>0x68 fehlt:</strong> MPU6050 Power oder I2C-Verbindung pr√ºfen
                </div>
            </div>
        </div>

        <!-- Pull-up Resistor Info -->
        <div class="i2c-box">
            <h4>üîå I2C Pull-up Widerst√§nde - Keine Sorge!</h4>
            <p style="margin-top: 10px; line-height: 1.8;">
                <strong>Gute Nachricht:</strong> Alle deine Breakout-Boards (ADS1115 und GY-521) haben bereits Pull-up Widerst√§nde (typisch 4,7kŒ© oder 10kŒ©) on-board! Du musst KEINE zus√§tzlichen Pull-ups auf der Platine einl√∂ten.<br><br>
                <strong>Warum Pull-ups?</strong> I2C ist ein "Open Drain" Bus - die Leitungen m√ºssen passiv auf HIGH gezogen werden. Die Module machen das schon.<br><br>
                <strong>Aber:</strong> Wenn du merkst, dass die I2C-Kommunikation instabil ist (Dropouts, Fehler), k√∂nnte es helfen, st√§rkere Pull-ups (2,2kŒ©) zwischen SDA/SCL und +3.3V zu l√∂ten. Das ist aber bei deinem Setup mit kurzen Leitungen nicht n√∂tig.
            </p>
        </div>

        <!-- Wiring Tips -->
        <div class="tip-box" style="margin-top: 40px;">
            <h4>üéØ Finale Tipps f√ºr perfekte I2C-Verkabelung:</h4>
            <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                <li><strong>Leitungen kurz halten:</strong> I2C mag keine langen Kabel. Ideal: <15cm</li>
                <li><strong>SDA/SCL parallel f√ºhren:</strong> Verdrillt oder parallel mit gleichem Abstand zu GND</li>
                <li><strong>GND-Stern:</strong> Alle Module sollten m√∂glichst am selben GND-Punkt zusammenkommen</li>
                <li><strong>Entkopplung ernst nehmen:</strong> Die 100nF Caps direkt an jedem Modul sind wichtig!</li>
                <li><strong>Keine langen Stubs:</strong> Verbindungen zu den Modulen sollten direkt vom Bus abgehen (keine langen Stichleitungen)</li>
                <li><strong>Test in Etappen:</strong> Erst ein Modul, dann zweites, dann drittes - so findest du Fehler schneller</li>
                <li><strong>Boot-Umgebung:</strong> Feuchtigkeit! Platine mit Klarlack beschichten oder in IP65 Geh√§use packen</li>
            </ul>
        </div>

        <!-- Troubleshooting -->
        <div class="step" style="margin-top: 30px; border-left-color: #e74c3c;">
            <h3 style="color: #e74c3c;">üîç Fehlersuche - H√§ufige Probleme</h3>
            
            <table class="connection-table">
                <tr>
                    <th>Problem</th>
                    <th>M√∂gliche Ursache</th>
                    <th>L√∂sung</th>
                </tr>
                <tr>
                    <td>ESP32 startet nicht</td>
                    <td>Keine 3.3V oder GND vertauscht</td>
                    <td>Spannungen am ESP32 messen: 3V3 Pin muss 3,3V haben</td>
                </tr>
                <tr>
                    <td>Keine I2C Ger√§te gefunden</td>
                    <td>SDA/SCL vertauscht oder nicht angeschlossen</td>
                    <td>Durchgang von GPIO21‚Üíalle Module, GPIO22‚Üíalle Module pr√ºfen</td>
                </tr>
                <tr>
                    <td>Nur 0x48 gefunden, 0x49 fehlt</td>
                    <td>ADS#2 ADDR Pin nicht auf VDD</td>
                    <td>ADDR Pin von ADS#2 mit VDD verbinden!</td>
                </tr>
                <tr>
                    <td>I2C Kommunikation bricht ab</td>
                    <td>Leitungen zu lang oder GND-Probleme</td>
                    <td>GND-Verbindungen verst√§rken, k√ºrzere I2C Leitungen</td>
                </tr>
                <tr>
                    <td>ADC liefert falsche Werte</td>
                    <td>Keine gemeinsame GND-Referenz</td>
                    <td>Sensor Board GND mit Main Board GND verbinden!</td>
                </tr>
                <tr>
                    <td>Flow Sensor z√§hlt nicht</td>
                    <td>Kein Signal an GPIO4 oder Interrupt fehlt</td>
                    <td>Sensor-Versorgung pr√ºfen (5V!), Code mit Interrupt</td>
                </tr>
                <tr>
                    <td>ESP32 h√§ngt sich auf</td>
                    <td>I2C Bus blockiert oder Modul defekt</td>
                    <td>Module einzeln testen, ggf. I2C Bus reset im Code</td>
                </tr>
            </table>
        </div>

        <!-- Success Message -->
        <div style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white; padding: 30px; border-radius: 12px; margin-top: 40px; text-align: center;">
            <h2 style="font-size: 32px; margin-bottom: 15px;">üéâ Main Board komplett!</h2>
            <p style="font-size: 18px; line-height: 1.8;">
                Wenn der I2C-Scanner alle drei Ger√§te findet (0x48, 0x49, 0x68), ist dein Main Board perfekt verkabelt!<br>
                N√§chster Schritt: Sensor Board anschlie√üen und erste Messwerte auslesen.<br><br>
                <strong>Viel Erfolg mit deinem Boot-Monitoring-System! ‚öìüõ†Ô∏è</strong>
            </p>
        </div>
    </div>
</body>
</html>
